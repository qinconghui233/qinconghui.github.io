---
layout: post
title: 'React学习笔记'
subtitle: '面试准备'
date: 2020-04-07
categories: 技术
cover: 'http://on2171g4d.bkt.clouddn.com/jekyll-theme-h2o-postcover.jpg'
tags: 网络 前端开发 
---

## 为什么不可变性在React中非常重要
好处
### 简化复杂的功能
不可变性是的复杂的特性更容易实现。
比如撤销和恢复功能，不直接在数据上修改可以让我们追溯并复用游戏的历史记录。

### 跟踪数据的改变
如果直接修改数据，那么就很难跟踪到数据的改变。跟踪数据的改变需要可变对象与改变之前的版本进行对比，这样整个对象树都需要被遍历一次。

跟踪不可变数据的变化相对来说就容易多了。如果发现对象变成了一个新对象，那么我们就可以说对象发生改变了。

### 确定在React中何时重新渲染
不可变性最主要的优势在于它可以帮助我们在 React 中创建 pure components。我们可以很轻松的确定不可变数据是否发生了改变，从而确定何时对组件进行重新渲染。

如果你想写的组件只包含一个 render 方法，并且不包含 state，那么使用函数组件就会更简单。我们不需要定义一个继承于 React.Component 的类，我们可以定义一个函数，这个函数接收 props 作为参数，然后返回需要渲染的元素。函数组件写起来并不像 class 组件那么繁琐，很多组件都可以使用函数组件来写。

## 状态提升
当你遇到需要同时获取多个子组件数据，或者两个组件之间需要相互通讯的情况时，需要把子组件的 state 数据提升至其共同的父组件当中保存。之后父组件可以通过 props 将状态数据传递到子组件当中。这样应用当中所有组件的状态数据就能够更方便地同步共享了。

当组件A需要依赖另外一个组件B的内部状态，而他们又不是父子关系时，需要将组件B的内部状态提升到他们公共祖先组件种管理。这样他们就都可以通过属性接收这份数据了。

## JSX
小驼峰 例如className

不能用return false阻止默认行为   需要用preventDefault

this在用到的地方绑定 还能传参
(this.handleClick = this.handleClick.bind(this))
箭头函数  (重复绑定)  还能直接在回调函数用

ES6解构 const{ isLoggedIn } = this.state  
const isLoggedIN = this.state.isLoggedIn

## 组件之间数据共享
React中的数据是单向自顶向下传递的，在组件树种，数据只能从父组件以属性的方式传递到子组件，父组件的数据可能是其接收到的属性，也可能是自身的内部状态。

## 调用setState之后发生了什么
在代码中调用setState函数之后，React或将传入的参数对象与组件当前的状态合并，然后触发所谓的调和过程(Reconciliation)。经过